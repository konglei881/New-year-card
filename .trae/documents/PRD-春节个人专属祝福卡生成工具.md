## 1. Product Overview

春节个人专属祝福卡生成工具：你选择性别与祝福类型、上传头像并填写祝福语，一键生成可下载的春节祝福卡。
面向普通用户的“快速出图”场景，降低设计门槛，保证生成内容合规、排版不溢出。

## 2. Core Features

### 2.1 Feature Module

本产品只有 1 个页面：**祝福卡生成页（首页）**，完成信息填写、点击生成祝福卡后才能预览、生成与下载。

### 2.2 Page Details

| Page Name  | Module Name | Feature description                         |
| ---------- | ----------- | ------------------------------------------- |
| 祝福卡生成页（首页） | 基础信息填写      | 选择性别（必填）、祝福类型（必填）、上传头像（必填）、填写祝福语（必填，4–12字）。 |
| 祝福卡生成页（首页） | 模板选择        | 仅提供三类模板：财运/爱情/健康。                           |
| 祝福卡生成页（首页） | 输入校验与提示     | 校验必填项、长度、敏感词；在字段旁展示错误原因并阻止生成。               |
| 祝福卡生成页（首页） | 实时预览        | 根据当前输入即时渲染主/副卡预览（含字体、自适应换行、安全边距）。           |
| 祝福卡生成页（首页） | 生成与下载       | 点击“生成祝福卡”后在当前页生成预览并支持下载，无需跳转或新开页面。          |

## 3. Core Process

### 3.1 用户流程（自然语言）

1. 你进入首页 → 选择性别与祝福类型。
2. 你上传头像并填写祝福语（4–12字）。
3. 你点击“生成祝福卡” → 系统校验与排版适配 → 生成主/副卡预览。
4. 你在当前页直接下载图片；不满意可修改后再次生成。

### 3.2 页面导航流程图

仅一个页面，无跳转或新开。

### 3.3 校验规则（输入与交互）

* 必填：性别、祝福类型、上传头像、祝福语。

* 长度：祝福语 4–12 字。

* 字符：不允许仅空格/仅符号；过滤首尾空白；连续空格压缩为 1 个。

* 内容合规：命中敏感词（政治、辱骂、歧视、涉黄赌毒等）则提示“内容不合规，请修改后再生成”。

* 生成按钮：校验未通过时置灰或点击后聚焦到首个错误字段。

### 3.4 生成规则（文案与排版）

* 文案生成优先级：用户填写祝福语。

* 排版自适应：

  * 文案区域采用自动换行与最大行数控制（超出则缩小字号到下限；仍超出则截断并追加“…”）。

  * 关键元素（主标题/祝福语/署名）必须保持安全边距，不贴边、不遮挡装饰。

  * 字体与颜色跟随风格主题；保证对比度（深底浅字/浅底深字）。

* 可复现：同一组输入参数 + 同一模板下，生成结果应一致（避免随机导致难以验收）。

### 3.5 下载规则

* 默认下载：PNG，文件名格式 `春节祝福卡_类型_性别_YYYYMMDD.png`（非法字符替换为 `_`）。

* 下载尺寸：仅提供 500×750，不提供尺寸选择。

* 下载前检查：图片渲染完成；未完成时禁止下载并显示加载态。

### 3.6 验收标准（可测试）

* 功能：在不刷新页面前提下，完成“填写→生成→预览→下载→再次生成”的闭环。

* 质量：生成图无明显锯齿（文字清晰）、无遮挡（文字不被装饰覆盖）、不溢出（不超安全边距）。

* 规则：触发任一校验规则时，必须明确提示原因且不可生成/不可下载。

* 性能：生成耗时在常见设备上 ≤ 3s（超过则展示进度/提示可重试）。

* 兼容：Chrome/Safari 桌面端可正常生成与下载（至少覆盖最新版与近 1 个大版本）。

